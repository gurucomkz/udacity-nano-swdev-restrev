<md-toolbar class="md-whiteframe-glow-z1 site-content-toolbar">
    <div class="md-toolbar-tools">
		<div>
			<md-button role="button" ng-href="#/" class="md-icon-button" aria-label="Back to all restaurants"><span class="fa fa-arrow-left"></span></md-button>
		</div>
        <h1>
            <span>{{restaurant.name}}</span>
        </h1>
		<span flex></span>
		<div>
			<md-button ng-href="#/writereview/{{restaurant.id}}/{{restaurant.name}}" class="md-icon-button" aria-label="Write review"><span class="fa fa-pencil"></span></md-button>
		</div>
    </div>
</md-toolbar>

<md-content flex>
	<header aria-atomic="true">
		<md-whiteframe class="md-whiteframe-1dp" layout="column">
			<img ng-src="{{restaurant.image}}" alt="Picture of {{restaurant.name}}" aria-hidden="true">
			<div  layout="column" layout-padding>
				<div layout="row">
					<span class="md-headline" flex>{{restaurant.name}}</span>
					<span class="md-subhead" id="starRating" aria-label="{{restaurant.average}} stars by average">
						<i ng-repeat="n in restaurant.average|range" class="fa fa-star"></i>
					</span>
				</div>
				<span class="md-subhead">
					<i class="fa fa-map-marker"></i>
					{{restaurant.address}}
				</span>
			</div>
			<div layout-padding>
				<h3 class="md-title">Review stats</h3>
				<div ng-repeat="(star, num) in restaurant.stats" aria-label="{{num}} reviews with {{star}} stars" aria-atomic="true" layout="row" layout-wrap>
					<span flex="30">
						<i ng-repeat="n in star|range" class="fa fa-star"></i>
					</span>
					<span>
						{{num}} reviews
					</span>
				</div>
			</div>
		</md-whiteframe>
	</header>

	<section id="reviewContainer">
      	<md-subheader class="md-primary">Reviews</md-subheader>
		<md-card ng-repeat="review in reviews" aria-label="Review from {{review.reviewer.name}}" role="article">
			<md-card-header aria-hidden="true">
				<md-card-avatar>
					<img class="md-user-avatar" ng-src="{{review.reviewer.avatar}}"/>
				</md-card-avatar>
				<md-card-header-text>
					<span class="md-title">{{review.reviewer.name}}</span>
					<span class="md-subhead">{{review.reviewer.email}}</span>
				</md-card-header-text>
			</md-card-header>
			<md-card-title>
				<md-card-title-text>
					<h2 class="md-headline">{{review.title}}</h2>
					<span class="md-subhead" aria-label="{{review.stars}} stars">
						<i ng-repeat="n in review.stars|range" class="fa fa-star"></i>
					</span>
				</md-card-title-text>
			</md-card-title>
			<md-card-content ng-bind-html="review.text"></md-card-content>
		</md-card>
	</section>


</md-content>
